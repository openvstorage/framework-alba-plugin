<!--
Copyright (C) 2016 iNuron NV

This file is part of Open vStorage Open Source Edition (OSE),
as available from

      http://www.openvstorage.org and
      http://www.openvstorage.com.

This file is free software; you can redistribute it and/or modify it
under the terms of the GNU Affero General Public License v3 (GNU AGPLv3)
as published by the Free Software Foundation, in version 3 as it comes
in the LICENSE.txt file of the Open vStorage OSE distribution.

Open vStorage is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY of any kind.
-->
<section>
    <div class="panel-heading">
        <b data-i18n="alba:dashboard.title"></b>
        <div style="float:right;">
            <span data-bind="visible: loading()"><i class="fa fa-spin" data-i18n="[html]ovs:icons.loading"></i></span>
            <a data-bind="popover: {
                              title: 'alba:dashboard.helptitle',
                              content: 'alba:dashboard.helpcontent'
                          }" class="hand fa noline" data-i18n="[html]ovs:icons.help"
               style="margin-left: 5px; color: white;" role="button" tabindex="-1">
            </a>
        </div>
    </div>
    <div class="panel-body">
        <div data-bind="lazylist: {
                            displaymode: 'table', items: albaBackends,
                            loadedObservable: 'loaded', colspan: 2
                        }" >
            <table data-dummy="dummy">
                <thead data-part="head">
                    <tr>
                        <th data-i18n="ovs:generic.name"></th>
                        <th data-i18n="alba:generic.osds" style="width: 100px;"></th>
                    </tr>
                </thead>
                <tbody data-dummy="dummy">
                    <tr data-part="table-entry">
                        <td>
                            <a data-bind="text: name, attr: { href: $root.shared.routing.loadHash('backend-alba-detail', { guid: backendGuid() }) }"></a>
                        </td>
                        <td>
                            <span class="label label-success pointer"
                                  data-bind="tooltip: 'alba:generic.states.osdinfo.claimed',
                                             text: $root.ASDStates()[guid()].claimed"></span>&nbsp;
                            <span class="label label-warning pointer"
                                  data-bind="tooltip: 'alba:generic.states.osdinfo.warning',
                                             text: $root.ASDStates()[guid()].warning"></span>&nbsp;
                            <span class="label label-danger pointer"
                                  data-bind="tooltip: 'alba:generic.states.osdinfo.error',
                                             text: $root.ASDStates()[guid()].failure"></span>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
     </div>
</section>
